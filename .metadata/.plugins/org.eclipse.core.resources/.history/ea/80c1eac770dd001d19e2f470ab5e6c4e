import javax.swing.*;
import java.awt.*;
import java.awt.event.*;

public class Snake extends JFrame implements Runnable{
	private int posEsqSnake [] = { 100 }; //primeira posição do array
	private int posTopSnake [] = { 100 };
	private int posEsqMaca = 200;
	private int posTopMaca = 200;
	private byte pos = 1;
	private Thread th = new Thread(this);
	
	public Snake() {
		super("Cobrinha");
		this.getContentPane().setBackground(Color.GREEN);
		this.setSize(500,500);
		//this.setResizable(false);
		this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
		this.addKeyListener(new KeyAdapter() {
			public void keyPressed(KeyEvent e){
				System.out.println(e.getKeyCode()); //pegar tecla apertada e exibir no console.
				switch(e.getKeyCode()){
				case 37:
					pos = 1;
					break;
				case 38:
					pos = 2;
					break;
				case 39:
					pos = -1;
					break;
				case 40:
					pos = -2;
					break;
				}
			}
		});
		this.repaint(); // prevenir bugs, se nao aparecer nada;
		th.start();
		this.setVisible(true);
	}
	
	public void run(){
		while(posEsqSnake[0] > 0 && posEsqSnake[0] < 500 &&
				posTopSnake[0] > 30 && posTopSnake[0] < 500){
			switch(pos){
				case 1: posEsqSnake[0]++;
				break;
				case -1:posEsqSnake[0]--;
				break;
				case 2: posTopSnake[0]--;
				break;
				case -2:posTopSnake[0]++;
				break;
			}
			repaint();
			try {
				th.sleep(5);
			}catch (InterruptedException e ){
			}
		}
		JOptionPane.showMessageDialog(this, "Terminou");
	}
	
	public void paint(Graphics g) {
		super.paint(g);
		g.fillRect(posEsqSnake[0],posTopSnake[0],10,10); // coord, coord, largura, altura
		g.setColor(Color.RED);
		g.fillOval(posEsqMaca,posTopMaca,15,15);
	}
	
	public static void main(String[] args) {
		new Snake();
	}
}